<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FAHDiL Market</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <aside class="sidebar">
    <button id="toggleMenu">â˜°</button>
    <nav id="sideMenu" class="hidden">
      <ul>
        <li><a href="#" data-target="produk">ğŸ›ï¸ Beranda Produk</a></li>
        <li><a href="#" data-target="owner">ğŸ” Beranda Owner</a></li>
        <li><a href="#" data-target="pemilik">ğŸ” Beranda Pemilik</a></li>
        <li><a href="#" data-target="statistik">ğŸ“Š Statistik Admin</a></li>
      </ul>
    </nav>
  </aside>

  <header class="header">
    <h1>ğŸ’ FAHDiL Market</h1>
    <p>Tempat Top Up & Belanja Digital Terpercaya</p>
  </header>

  <main>
    <section id="produk" class="page-section">
      <h2>ğŸ“¦ Daftar Produk</h2>
      <label>Urutkan:
        <select id="sortFilter" onchange="urutkanProduk()">
          <option value="terbaru">Terbaru</option>
          <option value="termurah">Harga Termurah</option>
          <option value="termahal">Harga Tertinggi</option>
          <option value="terlaris">Terlaris</option>
        </select>
      </label>

      <div id="formTambah" class="admin-form hidden">
        <h3>â• Tambah Produk</h3>
        <input type="text" id="namaProduk" placeholder="Nama Produk">
        <input type="number" id="hargaProduk" placeholder="Harga">
        <input type="file" id="gambarUpload">
        <input type="number" id="diskonProduk" placeholder="Diskon %">
        <input type="number" id="ratingProduk" placeholder="Rating (1-5)" max="5">
        <button onclick="tambahProduk()">Tambah</button>
      </div>

      <div class="produk-container" id="produkContainer"></div>

      <div class="riwayat-pesanan">
        <h3>ğŸ§¾ Riwayat Pembelian Anda</h3>
        <ul id="riwayatList"></ul>
      </div>
    </section>

    <section id="owner" class="page-section hidden">
      <h2>ğŸ” Login Owner</h2>
      <input type="text" id="ownerUser" placeholder="Username">
      <input type="password" id="ownerPass" placeholder="Password">
      <button onclick="loginOwner()">Login</button>
    </section>

    <section id="pemilik" class="page-section hidden">
      <h2>ğŸ” Login Pemilik</h2>
      <input type="text" id="pemilikUser" placeholder="Username">
      <input type="password" id="pemilikPass" placeholder="Password">
      <button onclick="loginPemilik()">Login</button>
    </section>

    <section id="statistik" class="page-section hidden">
      <h2>ğŸ“Š Statistik Admin</h2>
      <div id="statistikContent">
        <p>Total Produk: <span id="totalProduk">0</span></p>
        <p>Jumlah Transaksi: <span id="jumlahTransaksi">0</span></p>
        <p>Produk Terlaris: <span id="produkTerlaris">-</span></p>
      </div>
    </section>
  </main>

  <div class="popup-struk" id="popupStruk">
    <h3>ğŸ§¾ Struk Pembelian</h3>
    <input type="text" id="namaPembeli" placeholder="Nama Anda">
    <textarea id="alamatPembeli" placeholder="Alamat Lengkap"></textarea>
    <button onclick="lanjutWA()">Lanjut ke WhatsApp</button>
    <button onclick="tutupPopup()">Batal</button>
  </div>

  <script src="script.js"></script>
  <script>
    document.getElementById("toggleMenu").addEventListener("click", () => {
      document.getElementById("sideMenu").classList.toggle("hidden");
    });

    document.querySelectorAll('#sideMenu a').forEach(link => {
      link.addEventListener("click", function () {
        const target = this.dataset.target;
        document.querySelectorAll(".page-section").forEach(sec => sec.classList.add("hidden"));
        document.getElementById(target).classList.remove("hidden");
        document.getElementById("sideMenu").classList.add("hidden");
        if (target === "statistik") hitungStatistik();
      });
    });

    window.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".page-section").forEach(sec => sec.classList.add("hidden"));
      document.getElementById("produk").classList.remove("hidden");
    });
  </script>
</body>
</html>
